<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPC Maker</title>
    <link href="css/tabby-ui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <p>header placeholder text</p>
    </header>

    <div class="container">
        <main>

            <ul data-tabs>
                <li><a data-tabby-default href="#step1">Start</a></li>
                <li><a href="#step2">Step 2</a></li>
                <li><a href="#step3">Step 3</a></li>
                <li><a href="#step4">Step 4</a></li>
                <li><a href="#step5">Step 5</a></li>
            </ul>

            <div id="step1" class="tabbed-content"> 

                <!-- Char Name -->
                <input type="text" id="charName" placeholder="Character Name">
                <!-- biology select -->
                <div>
                    <select name="biology-menu" id="biology-menu" class="menu">
                        <option value="">Biology Template</option>
                        <optgroup label="Official" id="Bi-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Bi-U" class="unofficial"></optgroup>
                    </select>
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- template select -->
                <div>
                    <select name="template-menu" id="template-menu" class="menu">
                        <option value="">LA Template</option>
                        <optgroup label="Official" id="Te-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Te-U" class="unofficial"></optgroup>
                    </select>   
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- backgrounds select -->
                <div>
                    <select name="background-menu" id="background-menu" class="menu">
                        <option value="">Background</option>
                        <optgroup label="Official" id="Ba-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Ba-U" class="unofficial"></optgroup>
                    </select> 
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- Personality Archetypes -->
                <div>
                    <select name="personality-menu" id="personality-menu" class="menu">
                        <option value="">Personality</option>
                        <optgroup label="Official" id="Pe-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Pe-U" class="unofficial"></optgroup>
                    </select> 
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- cultural heritage select -->
                <div>
                    <select name="culture-menu" id="culture-menu" class="menu">
                        <option value="">Culture</option>
                        <optgroup label="Official" id="Cu-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Cu-U" class="unofficial"></optgroup>
                    </select> 
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- class select -->
                <div>
                    <select name="class-menu" id="class-menu" class="menu">
                        <option value="">Class</option>
                        <optgroup label="Official" id="Cl-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Cl-U" class="unofficial"></optgroup>
                    </select> 
                    <button class="randomizer">Randomize</button>
                </div>
                <div>
                    <button class="add-skills">Choose Skills</button>
                    <button class="roll-loot">Roll Loot</button>
                    <button class="level-up">Level Up</button>
                </div>
                <div>
                    <div>
                        <br><label for="suffer">Check to suffer</label>
                        <input type="checkbox" name="suffer" id="suffer">
                        <button id="roll-stats">Roll Stats</button>
                    </div>
                </div>
            </div>

            <div id="step2" class="tabbed-content">
  
            </div>

            <div id="step3" class="tabbed-content">
                

            </div>



            <div id="step4" class="tabbed-content">
               <p>armor, weapons and other equipment</p>    
            </div>

            <div id="step5" class="tabbed-content">
                <p>feats and skill point distribution</p>  
            </div>
            
            <br><button id="save-char">Update character</button>

        </main>
    </div>

    <footer>
        <div class="flex-container">
            <div class="flex-item">
                <p id="con"></p>
                <p id="str"></p>
                <p id="dex"></p>
                <p id="wis"></p>
                <p id="int"></p>
                <p id="cha"></p>
            </div>
            <div class="flex-item">
                <p></p>
                <p></p>
                <p></p>
                <p></p>
                <p></p>
                <p></p>
            </div>
            <div class="flex-item">
                <p></p>
                <p></p>
                <p></p>
                <p></p>
                <p></p>
                <p></p>
            </div>
        </div>
        <p id="finalString">Choose options to build your character!</p>
    </footer>

    
    <script src="./js/tabby.min.js"></script>
    <script src="./js/resources/classes.js"></script> 
    <script src="./js/resources/biotemplates.js"></script> 
    <script src="./js/resources/backgrounds.js"></script> 
    <script src="./js/resources/personalities.js"></script> 
    <script src="./js/resources/templates.js"></script> 
    <script src="./js/resources/cultures.js"></script>
    <script>
        const tabby = new Tabby('[data-tabs]');

        //populate menus - accepts element and 

        function populateMenu(e, z){
            let element = e;
            let menuOfficialStr = z.charAt(0).toUpperCase() + z.charAt(1) + "-O";
            let menuUnofficialStr = z.charAt(0).toUpperCase() + z.charAt(1) + "-U";
            let menuOfficial = document.getElementById(menuOfficialStr);
            let menuUnofficial = document.getElementById(menuUnofficialStr);
            let option = document.createElement("option");
            option.value     = element.name;
            if (element.levelMod > 0 || element.levelMod < 0 ){
                option.innerHTML = `${element.name} | +${element.levelMod} Level Adjust`;
            }else{
                option.innerHTML = `${element.name}`;
            }
            if (element.official == true){
                menuOfficial.appendChild(option);
            } else if (element.official == false){
                menuUnofficial.appendChild(option);
            }
        }

        classList.forEach((element) => {populateMenu(element, "classList");});
        bioList.forEach((element) => {populateMenu(element, "bioList");});
        backgroundList.forEach((element) => {populateMenu(element, "backgroundList");});
        templateList.forEach((element) => {populateMenu(element, "templateList");});
        personalityList.forEach((element) => {populateMenu(element, "personalityList");});
        cultureList.forEach((element) => {populateMenu(element, "cultureList");});

    </script>
        
        <script src="./js/main.js"></script> 
        <!-- <script src="./js/functions.js"></script>  -->


</body>
</html>