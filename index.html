<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPC Maker</title>
    <link href="css/tabby-ui.min.css" rel="stylesheet">
    <link rel="stylesheet" href="css/styles.css">
</head>
<body>
    <header>
        <p>header placeholder text</p>
    </header>

    <div class="container">
        <main>

            <ul data-tabs>
                <li><a data-tabby-default href="#step1">Start</a></li>
                <li><a href="#step2">Step 2</a></li>
                <li><a href="#step3">Step 3</a></li>
                <li><a href="#step4">Step 4</a></li>
                <li><a href="#step5">Step 5</a></li>
            </ul>

            <div id="step1" class="tabbed-content"> 

                <!-- Char Name -->
                <input type="text" id="charName" placeholder="Character Name">
                <!-- biology select -->
                <div>
                    <select name="biology-menu" id="biology-menu" class="menu">
                        <option value="">Biology Template</option>
                        <optgroup label="Official" id="Bi-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Bi-U" class="unofficial"></optgroup>
                    </select>
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- template select -->
                <div>
                    <select name="template-menu" id="template-menu" class="menu">
                        <option value="">LA Template</option>
                        <optgroup label="Official" id="T-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="T-U" class="unofficial"></optgroup>
                    </select>   
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- backgrounds select -->
                <div>
                    <select name="background-menu" id="background-menu" class="menu">
                        <option value="">Background</option>
                        <optgroup label="Official" id="Ba-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Ba-U" class="unofficial"></optgroup>
                    </select> 
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- Personality Archetypes -->
                <div>
                    <select name="personality-menu" id="personality-menu" class="menu">
                        <option value="">Personality</option>
                        <optgroup label="Official" id="P-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="P-U" class="unofficial"></optgroup>
                    </select> 
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- cultural heritage select -->
                <div>
                    <select name="culture-menu" id="culture-menu" class="menu">
                        <option value="">Culture</option>
                        <optgroup label="Official" id="Cu-O" class="official"></optgroup>
                        <optgroup label="Unofficial" id="Cu-U" class="unofficial"></optgroup>
                    </select> 
                    <button class="randomizer">Randomize</button>
                </div>
                <!-- class select -->
                <div class="flex-container" id="class-selection">
                    <div class="flex-item" id="class-1">
                        <select name="class-menu" id="class-menu" class="menu">
                            <option value="">Class</option>
                            <optgroup label="Official" id="Cl-O" class="official"></optgroup>
                            <optgroup label="Unofficial" id="Cl-U" class="unofficial"></optgroup>
                        </select> 
                        <button class="randomizer">Randomize</button>
                    </div>   
                </div>
                <div>
                    <button class="add-skills">Choose Skills</button>
                    <button class="roll-loot">Roll Loot</button>
                    <button class="level-up">Level Up</button>
                </div>
                <div>
                    <br><button id="roll-stats">Roll Stats</button>
                    <br><p id="stat-array"></p>
                </div>
            </div>

            <div id="step2" class="tabbed-content">
  
            </div>

            <div id="step3" class="tabbed-content">
                

            </div>



            <div id="step4" class="tabbed-content">
               <p>armor, weapons and other equipment</p>    
            </div>

            <div id="step5" class="tabbed-content">
                <p>feats and skill point distribution</p>  
            </div>
            
            <br><button id="save-char">Save character</button>

        </main>
    </div>

    <footer>
        <p id="finalString">Choose options to build your character!</p>
    </footer>

    
    <script src="./js/tabby.min.js"></script>
    <script src="./js/resources/classes.js"></script> 
    <script src="./js/resources/biotemplates.js"></script> 
    <script src="./js/resources/backgrounds.js"></script> 
    <script src="./js/resources/personalities.js"></script> 
    <script src="./js/resources/templates.js"></script> 
    <script src="./js/resources/cultures.js"></script>
    <script>
        const tabby = new Tabby('[data-tabs]');

        //grab dom elements
        const classOfficial = document.getElementById("Cl-O");
        const classUnofficial = document.getElementById("Cl-U");
        const bioOfficial = document.getElementById("Bi-O");
        const bioUnofficial = document.getElementById("Bi-U");
        const backgroundOfficial = document.getElementById("Ba-O");
        const backgroundUnofficial = document.getElementById("Ba-U");
        const templateOfficial = document.getElementById("T-O");
        const templateUnofficial = document.getElementById("T-U");
        const cultureOfficial = document.getElementById("Cu-O");
        const cultureUnofficial = document.getElementById("Cu-U");
        const personalityOfficial = document.getElementById("P-O");
        const personalityUnofficial = document.getElementById("P-U");

        //populate menus
        classList.forEach((element) => {
            let option = document.createElement("option");
            option.value     = element.name;
            option.innerHTML = element.name;
            if (element.official == true){
                classOfficial.appendChild(option);
            } else if (element.official == false){
                classUnofficial.appendChild(option);
            }
        });
        bioList.forEach((element) => {
            let option = document.createElement("option");
            option.value     = element.name;
            option.innerHTML = element.name;
            if (element.official == true){
                bioOfficial.appendChild(option);
            } else if (element.official == false){
                bioUnofficial.appendChild(option);
            }
        });
        backgroundList.forEach((element) => {
            let option = document.createElement("option");
            option.value     = element.name;
            option.innerHTML = element.name;
            if (element.official == true){
                backgroundOfficial.appendChild(option);
            } else if (element.official == false){
                backgroundUnofficial.appendChild(option);
            }
        });
        personalityList.forEach((element) => {
            let option = document.createElement("option");
            option.value     = element.name;
            option.innerHTML = element.name;
            if (element.official == true){
                personalityOfficial.appendChild(option);
            } else if (element.official == false){
                personalityUnofficial.appendChild(option);
            }
        });
        templateList.forEach((element) => {
            let option = document.createElement("option");
            option.value     = element.name;
            option.innerHTML = element.name;
            if (element.official == true){
                templateOfficial.appendChild(option);
            } else if (element.official == false){
                templateUnofficial.appendChild(option);
            }
        });
        personalityList.forEach((element) => {
            let option = document.createElement("option");
            option.value     = element.name;
            option.innerHTML = element.name;
            if (element.official == true){
                personalityOfficial.appendChild(option);
            } else if (element.official == false){
                personalityUnofficial.appendChild(option);
            }
        });
        cultureList.forEach((element) => {
            let option = document.createElement("option");
            option.value     = element.name;
            option.innerHTML = element.name;
            if (element.official == true){
                cultureOfficial.appendChild(option);
            } else if (element.official == false){
                cultureUnofficial.appendChild(option);
            }
        });

    </script>
        
        <script src="./js/main.js"></script> 
        <!-- <script src="./js/functions.js"></script>  -->


</body>
</html>